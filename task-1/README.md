Ход мыслей выразил в комментариях к коду.

В целом порядок работы свёлся к 1) поиску очевидных ошибок, кидаемых консолью при сборке и работе, б) изучению всех незнакомых методов в API и в) поиску самостоятельного решения для лучшего понимания работы методов.

Один раз этот метод дал осечку: мне не пришло в голову, что ошибка может быть в лишней строке, перезаписывающей корректно написанный код.

Спас метод исключения: если всё работает правильно, ищи то, что работает правильно, но бессмысленно.
